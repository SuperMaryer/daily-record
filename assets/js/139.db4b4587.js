(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{403:function(t,s,a){"use strict";a.r(s);var r=a(13),n=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"h5页面如何进行-首屏-优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#h5页面如何进行-首屏-优化"}},[t._v("#")]),t._v(" H5页面如何进行 “首屏” 优化")]),t._v(" "),s("h3",{attrs:{id:"首屏优化方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#首屏优化方案"}},[t._v("#")]),t._v(" 首屏优化方案")]),t._v(" "),s("ul",[s("li",[t._v("分页")]),t._v(" "),s("li",[t._v("路由懒加载")]),t._v(" "),s("li",[t._v("图片懒加载")]),t._v(" "),s("li",[t._v("App预取")]),t._v(" "),s("li",[t._v("服务端渲染 SSR")]),t._v(" "),s("li",[t._v("Hybrid")])]),t._v(" "),s("h3",{attrs:{id:"路由懒加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由懒加载"}},[t._v("#")]),t._v(" 路由懒加载")]),t._v(" "),s("ul",[s("li",[t._v("适用于 SPA, 不适用于 MPA")]),t._v(" "),s("li",[t._v("路由拆分, 优先保证首页加载")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" VueRouter "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-router'")]),t._v("\n\nVue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VueRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/login'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/views/login/index.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/views/home/index.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// () => import('@/views/login/index.vue') 箭头函数import 组件")]),t._v("\n")])])]),s("h3",{attrs:{id:"图片懒加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片懒加载"}},[t._v("#")]),t._v(" 图片懒加载")]),t._v(" "),s("ul",[s("li",[t._v("针对详情页")]),t._v(" "),s("li",[t._v("默认只展示文本内容, 然后触发图片懒加载")]),t._v(" "),s("li",[t._v("注意: 要提前设置图片尺寸, 尽量只重绘不重排, 减少开销")])]),t._v(" "),s("p",[t._v("参考: "),s("a",{attrs:{href:t.$withBase("/notes/project/设计实现一个H5图片懒加载SDK")}},[t._v("设计实现一个H5图片懒加载SDK")])]),t._v(" "),s("h3",{attrs:{id:"app预取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#app预取"}},[t._v("#")]),t._v(" App预取")]),t._v(" "),s("ul",[s("li",[t._v("如果 H5 在 App WebView 中展示, 可使用 App 预取")]),t._v(" "),s("li",[t._v("用户访问列表时, App 预加载文章首屏内容")]),t._v(" "),s("li",[t._v("用户进入 H5 页, 直接从 App 中获取内容, 瞬间展示首屏")])]),t._v(" "),s("h3",{attrs:{id:"hybrid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hybrid"}},[t._v("#")]),t._v(" Hybrid")]),t._v(" "),s("ul",[s("li",[t._v("提前将 HTML JS CSS 下载到内部")]),t._v(" "),s("li",[t._v("在App WebView 中使用 file:// 协议加载页面文件")]),t._v(" "),s("li",[t._v("再用 Ajax 获取内容并展示(也结合App预取)")])]),t._v(" "),s("h3",{attrs:{id:"服务端渲染-ssr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端渲染-ssr"}},[t._v("#")]),t._v(" 服务端渲染 SSR")]),t._v(" "),s("p",[t._v("成本比较高~")]),t._v(" "),s("ul",[s("li",[t._v("传统的前后端分离(SPA)渲染页面的过程复杂")]),t._v(" "),s("li",[t._v("SSR 渲染页面过程简单, 所以性能好")]),t._v(" "),s("li",[t._v("如果是纯 H5 页面, SSR 是性能优化的终级方案")])]),t._v(" "),s("p",[t._v('SSR 是一门"古老"的技术~')]),t._v(" "),s("ul",[s("li",[t._v("刚刚兴起 Web 1.0 时, 就是SSR 技术: PHP ASP JSP 等")]),t._v(" "),s("li",[t._v("Nuxt.js(Vue)")]),t._v(" "),s("li",[t._v("Next.js(React)")])]),t._v(" "),s("h3",{attrs:{id:"划重点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#划重点"}},[t._v("#")]),t._v(" 划重点")]),t._v(" "),s("ul",[s("li",[t._v("服务端 SSR 是 H5 的终极优化方案")]),t._v(" "),s("li",[t._v("移动端 H5 要结合 App 能力去优化, eg: App 预取")]),t._v(" "),s("li",[t._v("严格来说, Hybrid 不是 H5")])]),t._v(" "),s("h3",{attrs:{id:"拓展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拓展"}},[t._v("#")]),t._v(" 拓展")]),t._v(" "),s("ul",[s("li",[t._v("性能优化要配合分析, 统计和评分等, 做了事情要有结果")]),t._v(" "),s("li",[t._v("性能优化也要配合体验, eg: 骨架屏, loading动画等")]),t._v(" "),s("li",[t._v("不同的形式, 有不同的优化方式, 要积极沟通")])])])}),[],!1,null,null,null);s.default=n.exports}}]);