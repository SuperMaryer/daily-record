
# 后端一次性返回10w条数据，你该如何渲染

### 思考设计是否合理
- 设计不合理
- 后端返回 10w 条数据，本身技术方案设计就不合理
- 主动和面试官沟通此事（这也许是面试官所期待的）
- 如果面试官非要这么做，那再继续寻找解决方案

### 浏览器能否处理 10w 条数据
- js 没问题
- 渲染到 DOM 会非常卡顿


### 自定义中间层
- 自定义 nodejs 中间层，获取并拆分这 10w 条数据
- 前端对接 nodejs 中间层，而不是服务端
- 但是成本比较高

### 虚拟列表
- 虚拟列表实现起来非常复杂， 可接用第三方lib
- Vue-virtual-scroll-list
- React-virtualized

虚拟列表实现思路
- 只渲染可视区域 DOM
- 其他隐藏区域不显示，只用div撑起高度
- 随着浏览器滚动，创建和销毁 DOM

<img :src="$withBase('/assets/notes-images/experience/virtual-list.png')" alt="虚拟列表" width="400">


### 划重点
- 要主动沟通，表达观点，也许正在考察你的沟通能力
- 后端的问题，首先要用后端的思维去解决--中间层
- 虚拟列表只是无奈的选择，实现复杂且效果不一定好（低配手机上）